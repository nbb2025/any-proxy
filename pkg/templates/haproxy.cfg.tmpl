# Generated by any-proxy - node {{ .NodeID }} at {{ .GeneratedAt }}
global
    daemon
    maxconn 20000
    log /dev/log local0
    log /dev/log local1 notice

defaults
    log     global
    option  dontlognull
    timeout connect 5s
    timeout client  1m
    timeout server  1m

{{- range .Routes }}
frontend {{ .Name }}_fe
    mode {{ .Mode }}
    bind {{ .BindAddress }}
{{- if .EnableProxyProtocol }}
    option accept-proxy
{{- end }}
    default_backend {{ .Name }}_be

backend {{ .Name }}_be
    mode {{ .Mode }}
{{- if .IdleTimeout }}
    timeout server {{ .IdleTimeout }}
{{- end }}
    server {{ .Name }}_srv {{ .TargetAddress }}{{ if .EnableProxyProtocol }} send-proxy{{ end }}

{{- end }}
